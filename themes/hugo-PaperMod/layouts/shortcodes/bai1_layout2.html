<article class="post-single">
    <!-- Header bÃ i viáº¿t -->
    <header class="post-header" style="margin-bottom: 40px;">
        <div class="post-meta" style="color: #94a3b8; font-size: 0.9rem;">
            <span>ğŸ“… 27 ThÃ¡ng 12, 2025</span> â€¢ <span>ğŸ“ Java</span>// báº­n thÃªm link posts/cate/
        </div>
    </header>

    <div class="post-content" style="line-height: 1.9; color: #cbd5e1; font-size: 1.1rem; border-top: 1px solid #334155; padding-top: 25px; text-align: justify;">
    
    <p>ChÃ o má»«ng cÃ¡c báº¡n Ä‘Ã£ quay trá»Ÿ láº¡i vá»›i blog <strong>Láº­p TrÃ¬nh CÃ¹ng Báº£o</strong>! Trong ká»· nguyÃªn sá»‘ hiá»‡n nay, viá»‡c cÃ¡c á»©ng dá»¥ng káº¿t ná»‘i vÃ  trao Ä‘á»•i dá»¯ liá»‡u vá»›i nhau qua máº¡ng internet Ä‘Ã£ trá»Ÿ thÃ nh má»™t pháº§n táº¥t yáº¿u. Cho dÃ¹ báº¡n Ä‘ang sá»­ dá»¥ng má»™t á»©ng dá»¥ng nháº¯n tin nhÆ° Messenger, má»™t trÃ² chÆ¡i trá»±c tuyáº¿n tá»‘c Ä‘á»™ cao, hay chá»‰ Ä‘Æ¡n giáº£n lÃ  lÆ°á»›t web, táº¥t cáº£ Ä‘á»u dá»±a trÃªn má»™t ná»n táº£ng cá»‘t lÃµi: <strong>Láº­p trÃ¬nh máº¡ng (Network Programming)</strong>. VÃ  trÃ¡i tim cá»§a láº­p trÃ¬nh máº¡ng chÃ­nh lÃ  <strong>Socket</strong>.</p>
    
    <p>HÃ´m nay, chÃºng ta sáº½ khÃ´ng chá»‰ há»c cÃ¡ch viáº¿t code, mÃ  cÃ²n tÃ¬m hiá»ƒu cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng thá»±c sá»± cá»§a má»™t káº¿t ná»‘i Client-Server thÃ´ng qua Java. Äá»ƒ Ä‘áº£m báº£o tÃ­nh á»•n Ä‘á»‹nh vÃ  trÃ¡nh cÃ¡c lá»—i hiá»ƒn thá»‹ kÃ½ tá»± Ä‘áº·c biá»‡t (encoding) trÃªn cÃ¡c cá»­a sá»• Terminal cÅ© cá»§a Windows, trong bÃ i thá»±c hÃ nh nÃ y, mÃ¬nh sáº½ sá»­ dá»¥ng hoÃ n toÃ n tiáº¿ng Anh cho cÃ¡c dÃ²ng thÃ´ng bÃ¡o log vÃ  dá»¯ liá»‡u truyá»n táº£i.</p>

    <hr style="border: 0; border-top: 1px solid #334155; margin: 40px 0;">

    <h2 style="color: #60a5fa; margin-top: 30px;">1. TÃ¬m hiá»ƒu sÃ¢u vá» quy trÃ¬nh káº¿t ná»‘i</h2>
    <p>Trong láº­p trÃ¬nh Socket TCP, káº¿t ná»‘i giá»¯a hai thá»±c thá»ƒ luÃ´n tuÃ¢n theo má»™t mÃ´ hÃ¬nh phÃ¢n cáº¥p cháº·t cháº½. Server pháº£i lÃ  bÃªn "kiÃªn nháº«n" nháº¥t, nÃ³ khá»Ÿi táº¡o má»™t dá»‹ch vá»¥ táº¡i má»™t Ä‘á»‹a chá»‰ IP vÃ  sá»‘ cá»•ng (Port) xÃ¡c Ä‘á»‹nh, sau Ä‘Ã³ rÆ¡i vÃ o tráº¡ng thÃ¡i "Listening" (Láº¯ng nghe). Khi má»™t Client chá»§ Ä‘á»™ng gá»­i yÃªu cáº§u káº¿t ná»‘i, má»™t quÃ¡ trÃ¬nh báº¯t tay (Handshake) sáº½ diá»…n ra Ä‘á»ƒ thiáº¿t láº­p má»™t kÃªnh truyá»n dá»¯ liá»‡u riÃªng tÆ° giá»¯a hai bÃªn.</p>
    
    <p style="margin-top: 15px;">Quy trÃ¬nh nÃ y thÆ°á»ng Ä‘Æ°á»£c chia thÃ nh cÃ¡c giai Ä‘oáº¡n ká»¹ thuáº­t nhÆ° sau:</p>
    <ul style="margin-left: 20px; list-style-type: square;">
        <li><strong>Thiáº¿t láº­p Server:</strong> Sá»­ dá»¥ng <code>ServerSocket</code> Ä‘á»ƒ Ä‘Äƒng kÃ½ má»™t cá»•ng dá»‹ch vá»¥ (vÃ­ dá»¥: 5000) vá»›i há»‡ Ä‘iá»u hÃ nh.</li>
        <li><strong>Cháº¥p nháº­n káº¿t ná»‘i:</strong> Lá»‡nh <code>accept()</code> sáº½ cháº·n (block) chÆ°Æ¡ng trÃ¬nh cho Ä‘áº¿n khi cÃ³ má»™t káº¿t ná»‘i tá»« Client tá»›i.</li>
        <li><strong>Khá»Ÿi táº¡o luá»“ng dá»¯ liá»‡u:</strong> Sau khi káº¿t ná»‘i thÃ nh cÃ´ng, Java cung cáº¥p cÃ¡c luá»“ng <code>InputStream</code> Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u nháº­n vá» vÃ  <code>OutputStream</code> Ä‘á»ƒ Ä‘áº©y dá»¯ liá»‡u Ä‘i.</li>
        <li><strong>Káº¿t thÃºc phiÃªn lÃ m viá»‡c:</strong> Viá»‡c Ä‘Ã³ng káº¿t ná»‘i cá»±c ká»³ quan trá»ng Ä‘á»ƒ giáº£i phÃ³ng tÃ i nguyÃªn há»‡ thá»‘ng vÃ  trÃ¡nh rÃ² rá»‰ bá»™ nhá»› (Memory Leak).</li>
    </ul>

    <h2 style="color: #60a5fa; margin-top: 40px;">2. Thá»±c hÃ nh xÃ¢y dá»±ng á»©ng dá»¥ng </h2>
    <p>DÆ°á»›i Ä‘Ã¢y lÃ  mÃ£ nguá»“n chi tiáº¿t cho há»‡ thá»‘ng Client-Server Ä‘Æ¡n giáº£n. MÃ¬nh Ä‘Ã£ tá»‘i Æ°u hÃ³a mÃ£ nguá»“n báº±ng cÃ¡ch sá»­ dá»¥ng khá»‘i <code>try-with-resources</code> Ä‘á»ƒ Ä‘áº£m báº£o Socket tá»± Ä‘á»™ng Ä‘Ã³ng khi cÃ³ sá»± cá»‘ xáº£y ra.</p>

    <h3 style="color: #f89820; margin-bottom: 15px;">BÆ°á»›c 1: XÃ¢y dá»±ng phÃ­a Server (MyServer.java)</h3>
    <p style="font-size: 0.95rem; margin-bottom: 10px; font-style: italic;">Server nÃ y Ä‘Ã³ng vai trÃ² lÃ  má»™t dá»‹ch vá»¥ xá»­ lÃ½ chuá»—i: nháº­n tin nháº¯n vÃ  chuyá»ƒn Ä‘á»•i sang chá»¯ hoa.</p>
    <div style="background: #1e293b; padding: 20px; border-radius: 8px; border: 1px solid #334155; overflow-x: auto; margin-bottom: 25px;">
<pre style="margin: 0; font-family: 'JetBrains Mono', monospace; font-size: 0.95rem; line-height: 1.5; color: #e2e8f0;">
import java.io.*;
import java.net.*;

public class MyServer {
    public static void main(String[] args) {
        int port = 5000;
        try (ServerSocket serverSocket = new ServerSocket(port)) {
            System.out.println("LOG: Server is starting on port " + port);
            System.out.println("LOG: Waiting for a client to connect...");
            
            // Wait for client connection
            Socket socket = serverSocket.accept();
            System.out.println("LOG: Connection established with client!");

            // Initialize I/O streams
            BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));
            PrintWriter output = new PrintWriter(socket.getOutputStream(), true);

            // Read message from client
            String clientMsg = input.readLine();
            if (clientMsg != null) {
                System.out.println("RAW DATA: " + clientMsg);
                // Simple logic: convert string to upper case
                String result = clientMsg.toUpperCase();
                output.println("SERVER_ACK: " + result);
                System.out.println("LOG: Processed and responded to client.");
            }

            socket.close();
            System.out.println("LOG: Session closed.");
        } catch (IOException e) {
            System.err.println("CRITICAL ERROR: " + e.getMessage());
        }
    }
}</pre>
    </div>

    <h3 style="color: #00abff; margin-bottom: 15px;">BÆ°á»›c 2: XÃ¢y dá»±ng phÃ­a Client (MyClient.java)</h3>
    <p style="font-size: 0.95rem; margin-bottom: 10px; font-style: italic;">Client sáº½ chá»§ Ä‘á»™ng káº¿t ná»‘i tá»›i Ä‘á»‹a chá»‰ 'localhost' (mÃ¡y cá»¥c bá»™) táº¡i cá»•ng 5000.</p>
    <div style="background: #1e293b; padding: 20px; border-radius: 8px; border: 1px solid #334155; overflow-x: auto; margin-bottom: 25px;">
<pre style="margin: 0; font-family: 'JetBrains Mono', monospace; font-size: 0.95rem; line-height: 1.5; color: #e2e8f0;">
import java.io.*;
import java.net.*;

public class MyClient {
    public static void main(String[] args) {
        String hostname = "localhost";
        int port = 5000;

        try (Socket socket = new Socket(hostname, port)) {
            System.out.println("LOG: Attempting to connect to server...");
            
            PrintWriter output = new PrintWriter(socket.getOutputStream(), true);
            BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));

            // Payload: Sending string to server
            String payload = "hello bao, this is a test message";
            output.println(payload);
            System.out.println("OUTGOING: " + payload);

            // Read response from server
            String response = input.readLine();
            System.out.println("INCOMING: " + response);

            System.out.println("LOG: Task finished, disconnecting...");
        } catch (IOException e) {
            System.err.println("CONNECTION ERROR: " + e.getMessage());
        }
    }
}</pre>
    </div>

<h2 style="color: #60a5fa; margin-top: 40px;">3. CÃ¡ch cháº¡y chÆ°Æ¡ng trÃ¬nh vÃ  kiá»ƒm tra</h2>
<p>Äá»ƒ Ä‘áº£m báº£o chÆ°Æ¡ng trÃ¬nh hoáº¡t Ä‘á»™ng mÆ°á»£t mÃ , cÃ¡c báº¡n cáº§n tuÃ¢n thá»§ Ä‘Ãºng thá»© tá»± khá»Ÿi cháº¡y. Náº¿u báº¡n cháº¡y Client trÆ°á»›c khi Server sáºµn sÃ ng, há»‡ Ä‘iá»u hÃ nh sáº½ nÃ©m ra lá»—i <code>Connection Refused</code> ngay láº­p tá»©c.</p>
<ol style="margin-left: 20px; margin-bottom: 25px;">
    <li style="margin-bottom: 10px;"><strong>Khá»Ÿi Ä‘á»™ng Server:</strong> Má»Ÿ má»™t Terminal, cháº¡y file <code>MyServer.java</code>. Báº¡n sáº½ tháº¥y dÃ²ng thÃ´ng bÃ¡o Ä‘ang chá» Ä‘á»£i.</li>
    <li style="margin-bottom: 10px;"><strong>Khá»Ÿi Ä‘á»™ng Client:</strong> Má»Ÿ má»™t Terminal thá»© hai, cháº¡y file <code>MyClient.java</code>. LÃºc nÃ y dá»¯ liá»‡u sáº½ báº¯t Ä‘áº§u Ä‘Æ°á»£c luÃ¢n chuyá»ƒn.</li>
</ol>

<!-- Pháº§n hiá»ƒn thá»‹ káº¿t quáº£ cháº¡y code - Xáº¿p chá»“ng dá»c -->
<div style="display: flex; flex-direction: column; gap: 30px; margin: 30px 0; align-items: center;">
    
    <div style="width: 100%; max-width: 750px; text-align: center;">
        <div style="background: #1e293b; padding: 12px; border-radius: 10px; border: 1px solid #334155;">
            <img src="/images/b1_A.png" alt="Káº¿t quáº£ Server" style="width: 100%; border-radius: 6px; box-shadow: 0 4px 15px rgba(0,0,0,0.4);">
        </div>
        <p style="color: #94a3b8; margin-top: 10px; font-size: 0.95rem;"><i>HÃ¬nh 2: Tiáº¿n trÃ¬nh xá»­ lÃ½ dá»¯ liá»‡u thá»±c táº¿ táº¡i phÃ­a Server</i></p>
    </div>

    <div style="width: 100%; max-width: 750px; text-align: center;">
        <div style="background: #1e293b; padding: 12px; border-radius: 10px; border: 1px solid #334155;">
            <img src="/images/b1_B.png" alt="Káº¿t quáº£ Client" style="width: 100%; border-radius: 6px; box-shadow: 0 4px 15px rgba(0,0,0,0.4);">
        </div>
        <p style="color: #94a3b8; margin-top: 10px; font-size: 0.95rem;"><i>HÃ¬nh 3: Giao diá»‡n dÃ²ng lá»‡nh phÃ­a Client sau khi nháº­n pháº£n há»“i</i></p>
    </div>

</div>

<h2 style="color: #60a5fa; margin-top: 40px;">4. Tá»•ng káº¿t vÃ  Lá»i khuyÃªn</h2>
<p>Láº­p trÃ¬nh Socket lÃ  bÆ°á»›c Ä‘i Ä‘áº§u tiÃªn nhÆ°ng cá»±c ká»³ quan trá»ng Ä‘á»‘i vá»›i báº¥t ká»³ ai muá»‘n theo Ä‘uá»•i máº£ng Backend hay System Engineering. Viá»‡c náº¯m vá»¯ng cÃ¡ch luá»“ng dá»¯ liá»‡u di chuyá»ƒn giá»¯a hai mÃ¡y tÃ­nh sáº½ giÃºp báº¡n hiá»ƒu sÃ¢u hÆ¡n vá» giao thá»©c TCP/IP vÃ  cÃ¡c táº§ng á»©ng dá»¥ng cáº¥p cao hÆ¡n.</p>

<p style="margin-top: 15px;">Má»™t kinh nghiá»‡m nhá» dÃ nh cho cÃ¡c báº¡n: Viá»‡c sá»­ dá»¥ng tiáº¿ng Anh khÃ´ng dáº¥u trong code log khÃ´ng chá»‰ giÃºp trÃ¡nh lá»—i font (vá»¡ font chá»¯) trÃªn cÃ¡c há»‡ thá»‘ng Windows CMD cÅ© mÃ  cÃ²n giÃºp code cá»§a báº¡n trá»Ÿ nÃªn chuyÃªn nghiá»‡p hÆ¡n, sáºµn sÃ ng cho viá»‡c lÃ m viá»‡c trong cÃ¡c dá»± Ã¡n quá»‘c táº¿ hoáº·c chia sáº» trÃªn Github.</p>

<p style="margin-top: 15px;">á» bÃ i viáº¿t tiáº¿p theo, Báº£o sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ¡ch xá»­ lÃ½ bÃ i toÃ¡n <strong>Concurrency</strong>: LÃ m sao Ä‘á»ƒ má»™t Server cÃ³ thá»ƒ phá»¥c vá»¥ cÃ¹ng lÃºc hÃ ng nghÃ¬n Client mÃ  khÃ´ng bá»‹ treo? ChÃºng ta sáº½ cÃ¹ng tÃ¬m hiá»ƒu vá» <code>Thread</code> vÃ  <code>Socket Multi-threading</code>. Háº¹n gáº·p láº¡i cÃ¡c báº¡n!</p>

<hr style="border: 0; border-top: 1px solid #334155; margin: 40px 0;">

<!-- Pháº§n Hashtags cÃ³ gáº¯n liÃªn káº¿t - Bá» Gáº CH CHÃ‚N DÆ¯á»šI LINK -->
<p style="margin-top: 40px; font-weight: bold; display: flex; flex-wrap: wrap; gap: 18px;">
    <a href="/" style="color: #60a5fa; text-decoration: none !important; transition: 0.3s;" onmouseover="this.style.color='#f8fafc'" onmouseout="this.style.color='#60a5fa'">#Láº­pTrÃ¬nhCÃ¹ngBáº£o</a>
    
    <a href="/posts/bai-1/" style="color: #60a5fa; text-decoration: none !important; transition: 0.3s;" onmouseover="this.style.color='#f8fafc'" onmouseout="this.style.color='#60a5fa'">#JavaSocket</a>
    
    <a href="/posts/cate/" style="color: #60a5fa; text-decoration: none !important; transition: 0.3s;" onmouseover="this.style.color='#f8fafc'" onmouseout="this.style.color='#60a5fa'">#Há»cLáº­pTrÃ¬nh</a>
    
    <a href="/tips/" style="color: #60a5fa; text-decoration: none !important; transition: 0.3s;" onmouseover="this.style.color='#f8fafc'" onmouseout="this.style.color='#60a5fa'">#KinhNghiá»‡mCode</a>
</p>
</div>
</article>